(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44ae57ee"],{"3f00":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-row",{staticClass:"el-form100 m20",attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("el-input",{attrs:{placeholder:"请输入完整订单号",clearable:""},model:{value:e.searchObj.orderNO,callback:function(t){e.$set(e.searchObj,"orderNO",t)},expression:"searchObj.orderNO"}})],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择组织"},model:{value:e.searchObj.orgId,callback:function(t){e.$set(e.searchObj,"orgId",t)},expression:"searchObj.orgId"}},e._l(e.orgs,(function(t){return r("el-option",{key:t.orgId,attrs:{label:t.orgName,value:t.orgId}},[e._l(t.index,(function(t){return r("span",{staticClass:"opcaity"},[e._v("13")])})),r("span",[e._v(e._s(t.orgName))])],2)})),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择商品"},model:{value:e.searchObj.productId,callback:function(t){e.$set(e.searchObj,"productId",t)},expression:"searchObj.productId"}},e._l(e.products,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"请选择订单类型",clearable:""},model:{value:e.searchObj.type,callback:function(t){e.$set(e.searchObj,"type",t)},expression:"searchObj.type"}},e._l(e.types,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"请选择购买类型",clearable:""},model:{value:e.searchObj.buyType,callback:function(t){e.$set(e.searchObj,"buyType",t)},expression:"searchObj.buyType"}},e._l(e.buytypes,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),r("el-row",{staticClass:"el-form100 m20",attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择销售人员","value-key":"id"},model:{value:e.searchObj.uid,callback:function(t){e.$set(e.searchObj,"uid",t)},expression:"searchObj.uid"}},e._l(e.userList,(function(e){return r("el-option",{key:e.uid,attrs:{label:e.nickname,value:e.uid}})})),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择付款类型","value-key":"value"},model:{value:e.searchObj.status,callback:function(t){e.$set(e.searchObj,"status",t)},expression:"searchObj.status"}},e._l(e.status,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-col",{attrs:{span:6}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchObj.valueDate,callback:function(t){e.$set(e.searchObj,"valueDate",t)},expression:"searchObj.valueDate"}})],1),r("el-col",{staticClass:"textLeft",attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:e.searchM}},[e._v("查询")]),r("el-button",{attrs:{type:"success"},on:{click:e.exportOrder}},[e._v("导出")])],1),r("el-col",{attrs:{span:2}})],1),r("my-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data}},[r("el-table-column",{attrs:{label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("span",[e._v(e._s(n.orderNO))])]}}])}),r("el-table-column",{attrs:{label:"购买人"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("ul",[r("li",[r("span",[e._v("姓名："+e._s(n.userNick))])]),r("li",[r("span",[e._v("手机号："+e._s(n.mobile))])])])]}}])}),r("el-table-column",{attrs:{label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("ul",[r("li",[r("span",[e._v("期数："+e._s(n.periodsName))])]),r("li",[r("span",[e._v("商品："+e._s(n.productName))])])])]}}])}),r("el-table-column",{attrs:{label:"订单类型",prop:"typeV"}}),r("el-table-column",{attrs:{label:"购买类型",prop:"buyTypeV"}}),r("el-table-column",{attrs:{label:"付款金额",prop:"productPrice"}}),r("el-table-column",{attrs:{label:"付款类型"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("ul",[r("li",[e._v(" 付款状态："),r("span",{class:1!=n.status?"red":""},[e._v(e._s(n.statusV))])]),r("li",[r("span",[e._v("付款时间："+e._s(n.orderTime))])])])]}}])}),r("el-table-column",{attrs:{label:"经销人员信息"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("ul",[r("li",[r("span",[e._v("组织："+e._s(n.orgName))])]),r("li",[r("span",[e._v("经销人员："+e._s(n.nickname))])]),r("li",[e._v(" 身份："),r("span",[e._v("："+e._s(n.identityName))])])])]}}])})],1),r("el-pagination",{staticClass:"m20",attrs:{background:"",layout:"prev, pager, next,total",total:e.searchObj.total,"page-size":e.searchObj.pageSize,"current-page":e.searchObj.curPage},on:{"current-change":e.currentChange,"update:currentPage":function(t){return e.$set(e.searchObj,"curPage",t)},"update:current-page":function(t){return e.$set(e.searchObj,"curPage",t)}}})],1)},a=[],s=(r("4160"),r("b0c0"),r("dca8"),r("159b"),r("96cf"),r("1da1")),c=r("bcaf"),u=r("a833"),o=r("43e5"),i={name:"OrderQuery",mixins:[c["a"],u["a"],o["a"]],data:function(){return{searchObj:{orgId:"",uid:"",productId:"",valueDate:[],beginDate:"",endDate:"",curPage:1,pageSize:5,total:1,orderNO:"",type:"",status:"",buyType:""},data:[],orders:[],types:[],status:[],buytypes:[]}},watch:{"searchObj.valueDate":function(e){Array.isArray(e)?(this.searchObj.beginDate=this.dayjs(e[0]).format("YYYY-MM-DD"),this.searchObj.endDate=this.dayjs(e[1]).format("YYYY-MM-DD")):(this.searchObj.beginDate="",this.searchObj.endDate="")}},methods:{searchM:function(){this.searchObj.curPage=1,this.orderQuery()},exportOrder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOrder.exportOrder(e.searchObj);case 2:r=t.sent,document.location.href=r;case 4:case"end":return t.stop()}}),t)})))()},currentChange:function(e){this.searchObj.curPage=e,this.orderQuery()},orderQuery:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.openLoading(),t.next=3,e.ApiOrder.getOrders(e.searchObj);case 3:r=t.sent,e.searchM.total=r.rowCount,r.list.forEach((function(t){e.status.forEach((function(e){t.status===e.value&&(t.statusV=e.name)})),e.types.forEach((function(e){t.type===e.value&&(t.typeV=e.name)})),e.buytypes.forEach((function(e){t.buyType===e.value&&(t.buyTypeV=e.name)}))})),e.searchObj.total=r.rowCount,e.data=Object.freeze(r.list),e.closeLoading();case 9:case"end":return t.stop()}}),t)})))()},orderTypes:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOrder.orderTypes();case 2:e.types=t.sent;case 3:case"end":return t.stop()}}),t)})))()},buyTypes:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOrder.buyType();case 2:e.buytypes=t.sent;case 3:case"end":return t.stop()}}),t)})))()},orderStatus:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOrder.orderStatus();case 2:e.status=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.buyTypes(),e.orderTypes(),e.orderStatus(),t.next=5,e.getOrgs();case 5:return t.next=7,e.getProduct();case 7:return t.next=9,e.getUsers("");case 9:e.searchM();case 10:case"end":return t.stop()}}),t)})))()}},l=i,p=r("2877"),d=Object(p["a"])(l,n,a,!1,null,null,null);t["default"]=d.exports},"43e5":function(e,t,r){"use strict";r("4de4"),r("4160"),r("159b"),r("96cf");var n=r("1da1");t["a"]={data:function(){return{orgId:"",productId:"",uid:"",beginDate:"",endDate:"",orgs:[],products:[],userList:[],valueDate:[],inventoryList:[],type:"",allProCityList:[],provinceList:[],reportList:[]}},methods:{getOrgs:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOther.getOrgs();case 2:r=t.sent,n=e.getTreeList(r,0,[],"orgId"),r=e.flattenOrgs(n),e.orgs=r;case 6:case"end":return t.stop()}}),t)})))()},getProduct:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiProduction.getProduct();case 2:e.products=t.sent;case 3:case"end":return t.stop()}}),t)})))()},flattenOrgs:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.forEach((function(e){e.index=n,r.push(e),e.children&&t.flattenOrgs(e.children,r,n+1)})),r},getUsers:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.ApiUser.getSelectUsers(e);case 2:t.userList=r.sent;case 3:case"end":return r.stop()}}),r)})))()},getInventorTypes:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiProduction.productPurchaseType();case 2:e.inventoryList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getAllProvince:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOther.dictProvince();case 2:e.allProCityList=t.sent,e.provinceList=e.getTarget(e.allProCityList);case 4:case"end":return t.stop()}}),t)})))()},getTarget:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((function(e){if(e.parentId===t)return e}))}}}},"7db0":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").find,s=r("44d2"),c=r("ae40"),u="find",o=!0,i=c(u);u in[]&&Array(1)[u]((function(){o=!1})),n({target:"Array",proto:!0,forced:o||!i},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s(u)},a833:function(e,t,r){"use strict";r("4de4"),r("7db0"),r("4160"),r("a9e3"),r("b680"),r("ac1f"),r("5319"),r("159b"),r("96cf");var n=r("1da1"),a=r("5530"),s=r("2f62");t["a"]={inject:["ApiBasic","ApiResource","ApiBase","ApiProduction","ApiOther","ApiUser","ApiReport","cloneDeep","ApiMenu","dayjs","ApiOrder","ApiCourse"],computed:Object(a["a"])({},Object(s["c"])("course",{dictoryObj:"dictoryObj"})),data:function(){return{loading:!0,total:1,uid:"",userList:[],clickmodal:!1}},methods:{filterEnum:function(e,t){return this.dictoryObj[e].find((function(e){return e.key==t})).value},openLoading:function(){this.loading=!0},formatNum:function(e){return e=Number(e),(e.toFixed(2)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")},closeLoading:function(){this.loading=!1},confirmDelMessage:function(e,t,r){this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t();case 4:e.t0=e.sent;case 5:n=e.t0,"number"!=typeof n&&r&&r();case 7:case"end":return e.stop()}}),e)}))))},tipMessage:function(e,t){this.$message({showClose:!0,message:e,type:t})},getTreeList:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;if(Array.isArray(e))return e.forEach((function(s){if(s.parentId===r)return n.push(s),s.children=[],t.getTreeList(e,s[a],s.children,a)})),n},flatten:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.forEach((function(e){e.index=r,n.push(e),e.children&&t.flatten(e.children,r+1,n)})),n},filterAllChild:function(){},remoteMethod:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.ApiUser.getSelectUsers(e);case 2:t.userList=r.sent;case 3:case"end":return r.stop()}}),r)})))()},getTarget:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((function(e){if(e.parentId===t)return e}))}}}},bb2f:function(e,t,r){var n=r("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},dca8:function(e,t,r){var n=r("23e7"),a=r("bb2f"),s=r("d039"),c=r("861d"),u=r("f183").onFreeze,o=Object.freeze,i=s((function(){o(1)}));n({target:"Object",stat:!0,forced:i,sham:!a},{freeze:function(e){return o&&c(e)?o(u(e)):e}})},f183:function(e,t,r){var n=r("d012"),a=r("861d"),s=r("5135"),c=r("9bf2").f,u=r("90e3"),o=r("bb2f"),i=u("meta"),l=0,p=Object.isExtensible||function(){return!0},d=function(e){c(e,i,{value:{objectID:"O"+ ++l,weakData:{}}})},f=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,i)){if(!p(e))return"F";if(!t)return"E";d(e)}return e[i].objectID},h=function(e,t){if(!s(e,i)){if(!p(e))return!0;if(!t)return!1;d(e)}return e[i].weakData},b=function(e){return o&&g.REQUIRED&&p(e)&&!s(e,i)&&d(e),e},g=e.exports={REQUIRED:!1,fastKey:f,getWeakData:h,onFreeze:b};n[i]=!0}}]);