(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cee82f6"],{"147d":function(e,t,n){e.exports={container:"Menu_container_16Z5P",buttonsOperate:"Menu_buttonsOperate_2N4F2",formContent:"Menu_formContent_19Moe",title:"Menu_title_21sc6",buttons:"Menu_buttons_1shza"}},3466:function(e,t,n){"use strict";var a=n("1c8b"),i=n("5dfd").findIndex,r=n("258f"),o=n("ff9c"),l="findIndex",s=!0,u=o(l);l in[]&&Array(1)[l]((function(){s=!1})),a({target:"Array",proto:!0,forced:s||!u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(l)},"3fb1":function(e,t,n){"use strict";var a=n("fed6"),i=n.n(a);i.a},"754b":function(e,t,n){"use strict";var a=n("147d"),i=n.n(a);t["default"]=i.a},"9a0b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{class:e.$style.container},[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.addMenu}},[e._v("添加菜单")]),e.isCreateOneMenu?n("el-dialog",{attrs:{title:"添加菜单",visible:e.isCreateOneMenu},on:{"update:visible":function(t){e.isCreateOneMenu=t}}},[n("el-form",{attrs:{model:e.form,rules:e.rules}},[n("el-form-item",{attrs:{label:"菜单名称","label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"菜单键","label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveData1}},[e._v("保存")])],1)],1)],1):e._e()],1),n("el-container",[n("el-aside",{attrs:{width:e.sideBarWidth}},[n("el-row",{staticClass:"tac",attrs:{span:"24"}},[n("el-tree",{ref:"tree",attrs:{data:e.allMenu,"check-strictly":!0,"highlight-current":"","node-key":"menuId","expand-on-click-node":!1,props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,i=t.data;return 2!==i.menyType?n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(e._s(i.menuName)),n("span",{staticClass:"icon iconfont menu_font",class:e.fontClass(i)})]),n("span",[2!==i.menuType?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(i)}}},[e._v(" 添加 ")]):e._e(),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(a,i)}}},[e._v(" 删除 ")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.edit(a,i)}}},[e._v(" 修改 ")])],1)]):e._e()}}],null,!0)})],1)],1)],1),e.dialogFormVisible?n("el-dialog",{attrs:{title:"添加",visible:e.dialogFormVisible,"before-close":e.beforeClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[e.isEdit?e._e():n("el-form",{attrs:{model:e.form}},[e.isShowSelect?n("el-form-item",{attrs:{label:"类型","label-width":e.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},e._l(e.content,(function(e){return n("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),n("el-form-item",{attrs:{label:e.activityName,"label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:e.activityKey,"label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),1==e.selectType?n("el-form-item",{attrs:{label:"链接地址","label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.menuLink,callback:function(t){e.$set(e.form,"menuLink",t)},expression:"form.menuLink"}})],1):e._e()],1),e.isEdit?n("el-form",[n("el-form-item",{attrs:{label:e.activityName1,"label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.data.menuName,callback:function(t){e.$set(e.data,"menuName",t)},expression:"data.menuName"}})],1),n("el-form-item",{attrs:{label:e.activityKey1,"label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.data.menuKey,callback:function(t){e.$set(e.data,"menuKey",t)},expression:"data.menuKey"}})],1),1==e.data.menuType?n("el-form-item",{attrs:{label:"链接地址","label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.data.href,callback:function(t){e.$set(e.data,"href",t)},expression:"data.href"}})],1):e._e()],1):e._e(),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveData}},[e._v("确 定")])],1)],1):e._e()],1)},i=[],r=(n("3466"),n("fe59"),n("ea69"),n("053b"),n("e35a"),n("0d7a"),n("08ba"),n("b449"),n("ae9a")),o=n("0eaa"),l=n("29d1"),s=n("8a16"),u=n("ae8c"),c=n("1f27"),f=n("bcaf"),m="410px",d=[{value:0,id:0,label:"菜单"},{value:1,id:1,label:"链接"}],p={0:"菜单名称",1:"链接名称",2:"按钮名称"},h={0:"菜单键",1:"链接键",2:"按钮键"},b={0:"icon-menu-line",1:"icon-icon-",2:"icon-anniu"},y={name:"EditMenu",mixins:[f["a"]],data:function(){return{strictly:!0,isEdit:!1,selectType:"",labelPosition:"right",data:{},isCreateOneMenu:!1,value:[],sideBarWidth:m,rules:{key:[{required:!0,message:"请输入key值",trigger:"change"}],name:[{required:!0,message:"请输入菜单名称",trigger:"change"}]},content:[],form:{name:"",key:"",href:""},formLabelWidth:"120px"}},components:{AppMain:l["a"],Menu:s["a"]},computed:{activityName:function(){return 0===this.selectType?"菜单名称":1===this.selectType?"链接名称":1===this.data.menuType?"按钮名称":""},activityName1:function(){return p[this.data.menuType]},activityKey1:function(){return h[this.data.menuType]},activityKey:function(){return 0===this.selectType?"菜单键":1===this.selectType?"链接键":1===this.data.menuType?"按钮键":""},isShowSelect:function(){return 0==this.data.menuLink||1==this.data.menuLink}},created:function(){this.getAllMenu(),this.getRole()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("menu",{getAllMenu:"getAllMenu"})),Object(u["b"])("user",{getRole:"getRole"})),{},{addMenu:function(){this.isCreateOneMenu=!0},openDialog:function(){this.dialogFormVisible=!0},beforeClose:function(e){this.clearData(),e()},closeDialog:function(){this.dialogFormVisible=!1,this.clearData()},clearData:function(){this.form.name="",this.form.key="",this.content=[],this.selectType=""},edit:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.isEdit=!0,n.openDialog(),n.data=t;case 3:case"end":return e.stop()}}),e)})))()},saveData1:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.form.name,a=e.form.key,i={parentId:0,menuType:0,menuKey:a,menuName:n,menuLink:""},t.next=5,e.addMenuMehtod(i);case 5:e.isCreateOneMenu=!1,e.form.name="",e.form.key="";case 8:case"end":return t.stop()}}),t)})))()},saveData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.form.name,a=e.form.key,i=e.form.menuLink,null!=e.selectType&&""!==e.selectType||(e.selectType=2),r={parentId:e.data.menuId,menuType:e.selectType,menuKey:a,menuName:n,menuLink:i},!e.isEdit){t.next=10;break}return t.next=8,c["a"].putMenu(e.data);case 8:t.next=12;break;case 10:return t.next=12,e.addMenuMehtod(r);case 12:e.getAllMenu(),e.closeDialog();case 14:case"end":return t.stop()}}),t)})))()},addMenuMehtod:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c["a"].postMenu(e);case 2:t.getAllMenu();case 3:case"end":return n.stop()}}),n)})))()},append:function(e){this.isEdit=!1,this.dialogFormVisible=!0,this.data=e,0!=e.menuLink&&""!=e.menuLink||(this.content=d)},remove:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.parent,r=i.data.children||i.data,o=r.findIndex((function(e){return e.id===t.id})),r.splice(o+1,1),a.next=6,c["a"].delMenu(t.menuId);case 6:n.getAllMenu(),n.getMenu();case 8:case"end":return a.stop()}}),a)})))()},fontClass:function(e){return b[e.menuType]},change:function(){var e="";this.value.forEach((function(t){e+=t+","})),e=e.substring(0,e.length-1);var t=e.split(",");this.$refs.tree.setCheckedKeys(t)}}),mounted:function(){console.log("加载完成")}},v=y,g=n("754b"),k=(n("acac"),n("3fb1"),n("4023"));function x(e){this["$style"]=g["default"].locals||g["default"]}var M=Object(k["a"])(v,a,i,!1,x,null,null);t["default"]=M.exports},acac:function(e,t,n){"use strict";var a=n("d0e7"),i=n.n(a);i.a},d0e7:function(e,t,n){},ea69:function(e,t,n){"use strict";var a=n("1c8b"),i=n("e1d6"),r=n("3da3"),o=n("d88d"),l=n("3553"),s=n("1ca1"),u=n("1bbd"),c=n("1ea7"),f=n("ff9c"),m=c("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,b=9007199254740991,y="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!d},{splice:function(e,t){var n,a,c,f,m,d,v=l(this),g=o(v.length),k=i(e,g),x=arguments.length;if(0===x?n=a=0:1===x?(n=0,a=g-k):(n=x-2,a=h(p(r(t),0),g-k)),g+n-a>b)throw TypeError(y);for(c=s(v,a),f=0;f<a;f++)m=k+f,m in v&&u(c,f,v[m]);if(c.length=a,n<a){for(f=k;f<g-a;f++)m=f+a,d=f+n,m in v?v[d]=v[m]:delete v[d];for(f=g;f>g-a+n;f--)delete v[f-1]}else if(n>a)for(f=g-a;f>k;f--)m=f+a-1,d=f+n-1,m in v?v[d]=v[m]:delete v[d];for(f=0;f<n;f++)v[f+k]=arguments[f+2];return v.length=g-a+n,c}})},fed6:function(e,t,n){}}]);