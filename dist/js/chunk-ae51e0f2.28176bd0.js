(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae51e0f2"],{4194:function(e,t,r){"use strict";var n=r("1c8b"),a=r("5dfd").find,i=r("258f"),o=r("ff9c"),s="find",c=!0,u=o(s);s in[]&&Array(1)[s]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},"43e5":function(e,t,r){"use strict";r("dbb3"),r("fe59"),r("08ba"),r("b449");var n=r("ae9a");t["a"]={data:function(){return{orgId:"",productId:"",uid:"",beginDate:"",endDate:"",orgs:[],products:[],userList:[],valueDate:[],inventoryList:[],type:"",allProCityList:[],provinceList:[],reportList:[]}},methods:{getOrgs:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOther.getOrgs();case 2:r=t.sent,n=e.getTreeList(r,0,[],"orgId"),r=e.flattenOrgs(n),e.orgs=r;case 6:case"end":return t.stop()}}),t)})))()},getProduct:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiProduction.getProduct();case 2:e.products=t.sent;case 3:case"end":return t.stop()}}),t)})))()},flattenOrgs:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.forEach((function(e){e.index=n,r.push(e),e.children&&t.flattenOrgs(e.children,r,n+1)})),r},getUsers:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.ApiUser.getSelectUsers(e);case 2:t.userList=r.sent;case 3:case"end":return r.stop()}}),r)})))()},getInventorTypes:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiProduction.productPurchaseType();case 2:e.inventoryList=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getAllProvince:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOther.dictProvince();case 2:e.allProCityList=t.sent,e.provinceList=e.getTarget(e.allProCityList);case 4:case"end":return t.stop()}}),t)})))()},getTarget:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((function(e){if(e.parentId===t)return e}))}}}},a833:function(e,t,r){"use strict";r("dbb3"),r("4194"),r("fe59"),r("513c"),r("20a5"),r("e35a"),r("5e9f"),r("08ba"),r("b449");var n=r("ae9a"),a=r("0eaa"),i=r("ae8c");t["a"]={inject:["ApiBasic","ApiResource","ApiBase","ApiProduction","ApiOther","ApiUser","ApiReport","cloneDeep","ApiMenu","dayjs","ApiOrder","ApiCourse"],computed:Object(a["a"])({},Object(i["c"])("course",{dictoryObj:"dictoryObj"})),data:function(){return{loading:!0,total:1,uid:"",userList:[],clickmodal:!1}},methods:{filterEnum:function(e,t){return this.dictoryObj[e].find((function(e){return e.key==t})).value},openLoading:function(){this.loading=!0},formatNum:function(e){return e=Number(e),(e.toFixed(2)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")},closeLoading:function(){this.loading=!1},confirmDelMessage:function(e,t,r){this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t();case 4:e.t0=e.sent;case 5:n=e.t0,"number"!=typeof n&&r&&r();case 7:case"end":return e.stop()}}),e)}))))},tipMessage:function(e,t){this.$message({showClose:!0,message:e,type:t})},getTreeList:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;if(Array.isArray(e))return e.forEach((function(i){if(i.parentId===r)return n.push(i),i.children=[],t.getTreeList(e,i[a],i.children,a)})),n},flatten:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.forEach((function(e){e.index=r,n.push(e),e.children&&t.flatten(e.children,r+1,n)})),n},filterAllChild:function(){},remoteMethod:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.ApiUser.getSelectUsers(e);case 2:t.userList=r.sent;case 3:case"end":return r.stop()}}),r)})))()},getTarget:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((function(e){if(e.parentId===t)return e}))}}}},b21c:function(e,t,r){"use strict";r.r(t);var n,a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-row",{staticClass:"textLeft m20 el-form100",attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择经销人员","remote-method":e.getUsers,clearable:""},model:{value:e.uid,callback:function(t){e.uid=t},expression:"uid"}},e._l(e.userList,(function(e){return r("el-option",{key:e.uid,attrs:{label:e.username,value:e.uid}})})),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择方法"},model:{value:e.model.method,callback:function(t){e.$set(e.model,"method",t)},expression:"model.method"}},e._l(e.methods,(function(e){return r("el-option",{key:e,attrs:{value:e}})})),1)],1),r("el-col",{attrs:{span:4}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入API"},model:{value:e.model.api,callback:function(t){e.$set(e.model,"api",t)},expression:"model.api"}})],1),r("el-col",{attrs:{span:4}},[r("el-date-picker",{attrs:{clearable:"",type:"datetime",placeholder:"请选择时间"},on:{change:e.selectTime},model:{value:e.ymd,callback:function(t){e.ymd=t},expression:"ymd"}})],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:e.searchM}},[e._v("查询")]),r("el-button",{attrs:{type:"primary"},on:{click:e.statisticsM}},[e._v("统计")])],1)],1),r("my-table",{attrs:{data:e.data}},e._l(e.columnslist,(function(e){return r("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label}})})),1),r("div",{staticClass:"mt-4"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total",total:e.total,"page-size":e.pageSize,"current-page":e.model.curPage},on:{"current-change":e.currentChange,"update:currentPage":function(t){return e.$set(e.model,"curPage",t)},"update:current-page":function(t){return e.$set(e.model,"curPage",t)}}})],1),e.dialogFormVisible?r("el-dialog",{attrs:{title:"每个路由的访问次数",visible:e.dialogFormVisible,"close-on-click-modal":e.clickmodal},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("my-table",{attrs:{data:e.data1}},e._l(e.columnslist1,(function(e){return r("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label}})})),1)],1):e._e()],1)},i=[],o=r("70ea"),s=(r("b449"),r("ae9a")),c=r("bcaf"),u=r("a833"),l=r("43e5"),d={name:"LogView",mixins:[c["a"],u["a"],l["a"]],data:function(){return{data:[],data1:[],ymd:"",columnslist:[{prop:"nickname",label:"用户名"},{prop:"api",label:"API"},{prop:"method",label:"方法"},{prop:"runTime",label:"执行时间"},{prop:"createTime",label:"请求时间"}],columnslist1:[{prop:"name",label:"路由"},{prop:"value",label:"次数"}],model:{method:"",api:"",ymd:"",uid:"",curPage:1},methods:["OPTIONS","HEAD","GET","POST","PUT","PATCH","DELETE"]}},methods:(n={statisticsM:function(){this.open()},searchM:function(){this.model.curPage=1,this.getLog()},getLog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.ApiOther.getLog(e.model);case 2:r=t.sent,e.data=r.list,e.total=r.rowCount;case 5:case"end":return t.stop()}}),t)})))()}},Object(o["a"])(n,"statisticsM",(function(){this.getLogStatus()})),Object(o["a"])(n,"currentChange",(function(e){this.model.curPage=e,this.getLog()})),Object(o["a"])(n,"getLogStatus",(function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.open(),t.next=3,e.ApiOther.getLogStatus();case 3:e.data1=t.sent;case 4:case"end":return t.stop()}}),t)})))()})),Object(o["a"])(n,"selectTime",(function(){this.ymd instanceof Date?this.model.ymd=this.dayjs(this.ymd).format("YYYYMMDD"):this.model.ymd=""})),n),mounted:function(){this.getLog(),this.getUsers("")}},p=d,f=r("4023"),m=Object(f["a"])(p,a,i,!1,null,null,null);t["default"]=m.exports}}]);